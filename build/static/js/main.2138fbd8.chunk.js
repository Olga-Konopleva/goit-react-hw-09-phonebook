(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[3],{12:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"i",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return l})),n.d(e,"j",(function(){return f}));var c=n(2),r=Object(c.b)("contact/FetchRequest"),a=Object(c.b)("contact/FetchSuccess"),u=Object(c.b)("contact/FetchError"),o=Object(c.b)("contact/AddRequest"),i=Object(c.b)("contact/AddSuccess"),s=Object(c.b)("contact/AddError"),b=Object(c.b)("contact/DeleteRequest"),j=Object(c.b)("contact/DeleteSuccess"),l=Object(c.b)("contact/DeleteError"),f=Object(c.b)("contact/Filter")},121:function(t,e,n){"use strict";n.r(e);var c,r,a,u,o,i,s,b=n(0),j=n.n(b),l=n(32),f=n.n(l),O=n(10),d=n(21),h=n(60),p=n(61),v=n(62),x=n(71),m=n(70),g=n(5),k=n(17),_=n(26),y=n.n(_),N=n(1),A=function(){var t=Object(O.d)(k.a);return Object(N.jsxs)("nav",{className:y.a.nav,children:[Object(N.jsx)(d.b,{className:y.a.nav_link,activeClassName:y.a.nav_linkActive,to:"/",exact:!0,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),t&&Object(N.jsx)(d.b,{className:y.a.nav_link,activeClassName:y.a.nav_linkActive,to:"/contacts",exact:!0,children:"\u041c\u043e\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})]})},w=n(27),C=n.n(w),q=function(){return Object(N.jsxs)("div",{className:C.a.authNavContainer,children:[Object(N.jsx)(d.b,{to:"/register",className:C.a.nav_link,activeClassName:C.a.nav_linkActive,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(N.jsx)(d.b,{to:"/login",className:C.a.nav_link,activeClassName:C.a.nav_linkActive,children:"\u041b\u043e\u0433\u0438\u043d"})]})},S=n(45),z=n(30),E=n(43),R=n.n(E),U=n(46).a.button(c||(c=Object(S.a)(["\n  background: transparent;\n  border-radius: 6px;\n  border: 2px solid #3f3f3f;\n  color: #3f3f3f;\n  width: 100px;\n  height: 30px;\n  margin-left: 0;\n  padding: 0.25em 1em;\n  font-weight: 700;\n\n  &:hover {\n    background: LemonChiffon;\n  }\n  @include for-size(tablet) {\n    margin-left: 1em;\n  }\n}\n"]))),M=function(){var t=Object(O.d)(k.b),e=Object(O.c)();return Object(N.jsxs)("div",{className:R.a.userMenu,children:[Object(N.jsx)("p",{className:R.a.userName,children:t}),Object(N.jsx)(U,{type:"button",onClick:function(){return e(Object(z.c)())},children:"\u0412\u044b\u0439\u0442\u0438"})]})},D=n(66),F=n.n(D),G=function(){var t=Object(O.d)(k.a);return Object(N.jsxs)("header",{className:F.a.header,children:[Object(N.jsx)(A,{}),t?Object(N.jsx)(M,{}):Object(N.jsx)(q,{})]})},L=n(58),T=n(19),B=n(37),J=function(t){var e=t.component,n=Object(B.a)(t,["component"]),c=Object(O.d)(k.a);return Object(N.jsx)(g.b,Object(T.a)(Object(T.a)({},n),{},{render:function(t){return c?Object(N.jsx)(e,Object(T.a)({},t)):Object(N.jsx)(g.a,{to:"/login"})}}))},Q=function(t){var e=t.component,n=Object(B.a)(t,["component"]),c=Object(O.d)(k.a);return Object(N.jsx)(g.b,Object(T.a)(Object(T.a)({},n),{},{render:function(t){return c&&n.restricted?Object(N.jsx)(g.a,{to:"/contacts"}):Object(N.jsx)(e,Object(T.a)({},t))}}))},I=Object(b.lazy)((function(){return n.e(1).then(n.bind(null,125))})),Y=Object(b.lazy)((function(){return n.e(0).then(n.bind(null,128))})),H=Object(b.lazy)((function(){return n.e(2).then(n.bind(null,126))})),K=Object(b.lazy)((function(){return n.e(4).then(n.bind(null,127))})),P=function(t){Object(x.a)(n,t);var e=Object(m.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)(G,{}),Object(N.jsx)(b.Suspense,{fallback:Object(N.jsx)(L.a,{}),children:Object(N.jsxs)(g.d,{children:[Object(N.jsx)(g.b,{exact:!0,path:"/",component:I}),Object(N.jsx)(J,{path:"/contacts",component:Y}),Object(N.jsx)(Q,{restricted:!0,path:"/login",component:H}),Object(N.jsx)(Q,{restricted:!0,path:"/register",component:K})]})})]})}}]),n}(b.Component),V={onGetCurrentUser:z.a},W=Object(O.b)(null,V)(P),X=n(36),Z=n(2),$=n(23),tt=n(69),et=n.n(tt),nt=n(3),ct=n(9),rt=n(12),at=Object(Z.c)([],(r={},Object(nt.a)(r,rt.i,(function(t,e){return e.payload})),Object(nt.a)(r,rt.c,(function(t,e){var n=e.payload;return[].concat(Object(X.a)(t),[n])})),Object(nt.a)(r,rt.f,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),r)),ut=Object(Z.c)("",Object(nt.a)({},rt.j,(function(t,e){return e.payload}))),ot=Object(Z.c)(!1,(a={},Object(nt.a)(a,rt.b,(function(){return!0})),Object(nt.a)(a,rt.c,(function(){return!1})),Object(nt.a)(a,rt.a,(function(){return!1})),Object(nt.a)(a,rt.e,(function(){return!0})),Object(nt.a)(a,rt.f,(function(){return!1})),Object(nt.a)(a,rt.d,(function(){return!1})),Object(nt.a)(a,rt.h,(function(){return!0})),Object(nt.a)(a,rt.i,(function(){return!1})),Object(nt.a)(a,rt.g,(function(){return!1})),a)),it=Object(ct.c)({items:at,filter:ut,loading:ot}),st=n(4),bt={name:null,email:null},jt=Object(Z.c)(bt,(u={},Object(nt.a)(u,st.l,(function(t,e){return e.payload.user})),Object(nt.a)(u,st.f,(function(t,e){return e.payload.user})),Object(nt.a)(u,st.i,(function(t,e){e.payload;return bt})),Object(nt.a)(u,st.c,(function(t,e){return e.payload})),u)),lt=Object(Z.c)(null,(o={},Object(nt.a)(o,st.l,(function(t,e){return e.payload.token})),Object(nt.a)(o,st.f,(function(t,e){return e.payload.token})),Object(nt.a)(o,st.i,(function(){return null})),o)),ft=Object(Z.c)(null,(i={},Object(nt.a)(i,st.j,(function(t,e){return e.payload})),Object(nt.a)(i,st.d,(function(t,e){return e.payload})),Object(nt.a)(i,st.g,(function(t,e){return e.payload})),Object(nt.a)(i,st.a,(function(t,e){return e.payload})),i)),Ot=Object(Z.c)(!1,(s={},Object(nt.a)(s,st.l,(function(){return!0})),Object(nt.a)(s,st.f,(function(){return!0})),Object(nt.a)(s,st.c,(function(){return!0})),Object(nt.a)(s,st.j,(function(){return!1})),Object(nt.a)(s,st.d,(function(){return!1})),Object(nt.a)(s,st.a,(function(){return!1})),Object(nt.a)(s,st.i,(function(){return!1})),s)),dt=Object(ct.c)({user:jt,isAutenticated:Ot,token:lt,error:ft}),ht=n(25),pt=Object(X.a)(Object(Z.d)({serializableCheck:{ignoredActions:[$.a,$.f,$.b,$.c,$.d,$.e]}})),vt={key:"auth",storage:et.a,whitelist:["token"]},xt=Object(Z.a)({reducer:{auth:Object(ht.a)(vt,dt),contacts:it},middleware:pt,devTools:!1}),mt={store:xt,persistor:Object($.g)(xt)};f.a.render(Object(N.jsx)(j.a.StrictMode,{children:Object(N.jsx)(O.a,{store:mt.store,children:Object(N.jsx)(h.a,{loading:null,persistor:mt.persistor,children:Object(N.jsx)(d.a,{children:Object(N.jsx)(W,{})})})})}),document.getElementById("root"))},17:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a}));var c=function(t){return t.auth.isAutenticated},r=function(t){return t.auth.user.email},a=function(t){return t.auth.user.name}},26:function(t,e,n){t.exports={nav:"Navigation_nav__3equO",nav_link:"Navigation_nav_link__1qp7Q",nav_linkActive:"Navigation_nav_linkActive__1kq12"}},27:function(t,e,n){t.exports={authNavContainer:"AuthNav_authNavContainer__1hw6e",nav_link:"AuthNav_nav_link__1LaGr",nav_linkActive:"AuthNav_nav_linkActive__15oYu"}},30:function(t,e,n){"use strict";n.d(e,"d",(function(){return j})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return O}));var c=n(18),r=n.n(c),a=n(29),u=n(22),o=n.n(u),i=n(4);o.a.defaults.baseURL="https://connections-api.herokuapp.com";var s=function(t){o.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){o.a.defaults.headers.common.Authorization=""},j=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(i.k)()),e.prev=1,e.next=4,o.a.post("/users/signup",t);case 4:c=e.sent,a=c.data,s(a.token),n(Object(i.l)(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(Object(i.j)(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},l=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(i.e)()),e.prev=1,e.next=4,o.a.post("/users/login",t);case 4:c=e.sent,a=c.data,s(a.token),n(Object(i.f)(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(Object(i.d)(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},f=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(i.h)()),t.prev=1,t.next=4,o.a.post("/users/logout");case 4:b(),e(Object(i.i)()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(Object(i.g)(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},O=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e,n){var c,a,u,b;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),a=c.auth.token){t.next=3;break}return t.abrupt("return");case 3:return s(a),e(Object(i.b)()),t.prev=5,t.next=8,o.a.get("/users/current");case 8:u=t.sent,b=u.data,e(Object(i.c)(b)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e(Object(i.a)(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}()}},4:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return u})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return j})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return O})),n.d(e,"a",(function(){return d}));var c=n(2),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),u=Object(c.b)("auth/registerError"),o=Object(c.b)("auth/loginRequest"),i=Object(c.b)("auth/loginSuccess"),s=Object(c.b)("auth/loginError"),b=Object(c.b)("auth/logoutRequest"),j=Object(c.b)("auth/logoutSuccess"),l=Object(c.b)("auth/logoutError"),f=Object(c.b)("auth/getCurrentUserRequest"),O=Object(c.b)("auth/getCurrentUserSuccess"),d=Object(c.b)("auth/getCurrentUserError")},43:function(t,e,n){t.exports={userMenu:"UserMenu_userMenu__2OTuo",userName:"UserMenu_userName__10wfg"}},58:function(t,e,n){"use strict";var c=n(67),r=n.n(c),a=(n(118),n(68)),u=n.n(a),o=n(1);e.a=function(){return Object(o.jsx)("div",{children:Object(o.jsx)(r.a,{type:"ThreeDots",color:"rgb(92, 164, 182)",height:80,width:80,timeout:3e3,className:u.a.loader})})}},66:function(t,e,n){t.exports={header:"AppBar_header__kQT0b"}},68:function(t,e,n){t.exports={loader:"Loader_loader__2AANG"}}},[[121,5,6]]]);
//# sourceMappingURL=main.2138fbd8.chunk.js.map